# Beispiel für den zentralen Server
#
# Nutzung:
#   1) Datei kopieren: cp .env.server.example .env
#   2) Werte setzen
#   3) Start: docker compose -f docker-compose.server.yml up -d --build
#
# WICHTIG: Diese Datei enthält nur Platzhalter.
#          Eine echte .env niemals ins Repo committen.

# REQUIRED: Flask Session / CSRF / Cookie Signierung
# Erzeuge z.B. einen Wert mit:
#   python -c "import secrets; print(secrets.token_hex(32))"
FLASK_SECRET_KEY="CHANGE_ME_TO_A_RANDOM_HEX_STRING"

# REQUIRED (recommended): Aktiviert /admin zum Generieren und Verwalten der Session-Codes
# Nutzt bcrypt (gleicher Hash-Typ wie Caddy basic_auth). Benutzername ist normalerweise "admin".
ADMIN_USER="admin"
ADMIN_PASSHASH=""

# Legacy (plaintext) Fallback; besser leer lassen und ADMIN_PASSHASH setzen.
ADMIN_PASSWORD=""

# OPTIONAL: Anzahl automatisch erzeugter Session-Codes beim ersten Start
AUTO_GENERATE_SESSIONS=20

# OPTIONAL: Öffentliche Orthanc-URL für Links im Simulator.
# Auf zentralem Server meist leer lassen, weil Orthanc nur localhost gebunden ist.
ORTHANC_PUBLIC_URL=""

# OPTIONAL: Orthanc über Caddy als Subdomain veröffentlichen (für SuS-Zugriff)
# Wird auch genutzt, damit der Simulator automatisch einen Link zu Orthanc anzeigen kann (HTTPS).
# Beispiel ohne eigenes DNS: orthanc.<EC2_PUBLIC_IP>.sslip.io
ORTHANC_DOMAIN=""

# OPTIONAL: Öffentlicher Hostname für den Simulator (HTTPS via Caddy)
# Beispiel: sim.<EC2_PUBLIC_IP>.sslip.io oder sim.example.org
SIM_DOMAIN=""

# OPTIONAL: Basic Auth vor Orthanc (Credentials nicht im Repo)
# Hash erzeugen mit:
#   docker compose -f docker-compose.server.yml run --rm caddy caddy hash-password --plaintext 'DEIN_PASSWORT'
# Für Orthanc Basic Auth: nutze ebenfalls "admin" + denselben Hash.
ORTHANC_PROXY_USER="admin"
ORTHANC_PROXY_PASSHASH=""

# Hinweis zu bcrypt in .env:
# - Hashes enthalten '$'. In docker-compose muss das als '$$' escaped werden.
# - Beispiel: $$2a$$14$$....
